title: |-
  Waldo Upload
summary: |
  Uploads your build to Waldo.
description: |
  Uploads your build (`.app`, `.ipa`, or `.apk`) to Waldo.

  You must specify at least a build path and a Waldo upload token.

  Typically the build path is generated by a previous build Step in your
  Workflow. For example:

  - the **Xcode build for simulator** Step generates a `.app` at `$BITRISE_APP_DIR_PATH`
  - the **Xcode Archive & Export for iOS** Step generates a `.ipa` at `$BITRISE_IPA_PATH`
  - the **Android Build** Step generates a `.apk` at `$BITRISE_APK_PATH`

  Each application registered in Waldo is associated with a unique upload
  token. You can find the upload token for your app by going to the
  Documentation screen for your app in [Waldo](https://app.waldo.io/). This
  token _should_ be specified as a _secret_ environment variable.
website: https://github.com/waldoapp/bitrise-step-waldo-upload
source_code_url: https://github.com/waldoapp/bitrise-step-waldo-upload
support_url: https://github.com/waldoapp/bitrise-step-waldo-upload/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04
project_type_tags:
  - ios
  - android
  - xamarin
  - react-native
  - cordova
  - ionic
  - flutter
type_tags:
  - test
is_requires_admin_user: false
is_always_run: false
is_skippable: false
run_if: ""
deps:
  brew:
  - name: curl
  apt_get:
  - name: curl
toolkit:
  bash:
    entry_file: step.sh
inputs:
  - build_path:
    opts:
      title: Build path
      summary: A `.app`, `.ipa`, or `.apk` path.
      description: |
        A `.app`, `.ipa`, or `.apk` path.

        Typically this path is generated by a previous build Step in your
        Workflow. For example:

        - the **Xcode build for simulator** Step generates a `.app` at `$BITRISE_APP_DIR_PATH`
        - the **Xcode Archive & Export for iOS** Step generates a `.ipa` at `$BITRISE_IPA_PATH`
        - the **Android Build** Step generates a `.apk` at `$BITRISE_APK_PATH`
      is_required: true
  - upload_token:
    opts:
      title: Waldo upload token
      description: |
        Each application registered in Waldo is associated with a unique upload
        token.
      is_required: true
      is_sensitive: true
  - variant_name:
    opts:
      title: "Waldo variant name"
      description: |
        An arbitrary string that can be associated with a build.
      is_required: false
  - find_symbols: "no"
    opts:
      title: "Find symbols associated with the build upload"
      description: |
        **iOS only.** Attempts to find the symbols associated with the
        specified `.app` build path.

        This input is _ignored_ if a symbols path is specified.
      category: Symbols
      is_required: false
      value_options:
        - "yes"
        - "no"
  - symbols_path:
    opts:
      title: "Symbols path"
      summary: A `.dSYM` or `.xcarchive` path.
      description: |
        **iOS only.** A `.dSYM` or `.xcarchive` path.

        The symbols path can also be a ZIP archive: `.dSYM.zip` or
        `.xcarchive.zip`.
      category: Symbols
      is_required: false
